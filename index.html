<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Time Zone Converter • Hacker114</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@600;800&display=swap" rel="stylesheet"/>
<link rel="icon" type="image/png" href="/favicon.png">

<style>
  :root {
    --bg:        #0d1117;
    --card:      #161b22;
    --primary:   #58a6ff;
    --primary-dark: #388bfd;
    --accent:    #ff79c6;
    --text:      #e2e8f0;
    --text-light:#94a3b8;
    --border:    #30363d;
    --glow:      0 0 16px rgba(88,166,255,0.4);
  }

  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    padding: 3.5rem 1.5rem 5rem;
    line-height: 1.6;
  }

  .container {
    max-width: 1000px;
    margin: 0 auto;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 3rem 2.8rem;
    box-shadow: 0 12px 48px rgba(0,0,0,0.65), var(--glow);
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    text-align: center;
    color: var(--primary);
    font-size: 3.2rem;
    letter-spacing: 3px;
    margin-bottom: 0.8rem;
    text-shadow: 0 0 18px rgba(88,166,255,0.6);
  }

  .made-by {
    text-align: center;
    color: var(--text-light);
    font-size: 1.1rem;
    margin-bottom: 3rem;
  }

  .section { margin: 3rem 0; }

  label {
    display: block;
    color: var(--primary);
    font-weight: 600;
    margin-bottom: 0.8rem;
    font-size: 1.2rem;
  }

  input, select {
    width: 100%;
    padding: 1.1rem 1.4rem;
    background: #0f1620;
    border: 1px solid var(--border);
    border-radius: 12px;
    color: var(--text);
    font-size: 1.12rem;
    transition: all 0.22s;
  }

  input:focus, select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(88,166,255,0.22);
  }

  .datetime-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.6rem;
  }

  .timezone-row {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 2rem;
    align-items: end;
    margin: 3rem 0;
  }

  .swap-btn {
    width: 76px;
    height: 76px;
    border-radius: 50%;
    background: linear-gradient(145deg, var(--primary), var(--primary-dark));
    color: white;
    border: none;
    font-size: 1.6rem;
    cursor: pointer;
    transition: all 0.4s ease;
    box-shadow: 0 0 24px rgba(88,166,255,0.5);
  }

  .swap-btn:hover {
    transform: rotate(180deg) scale(1.12);
  }

  .favorites-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-top: 1.6rem;
  }

  .convert-btn {
    width: 100%;
    padding: 1.4rem;
    background: linear-gradient(90deg, #1e88e5, #58a6ff);
    color: white;
    border: none;
    border-radius: 14px;
    font-size: 1.35rem;
    font-weight: 600;
    cursor: pointer;
    margin: 2.5rem 0 2rem;
    transition: all 0.35s;
    box-shadow: 0 8px 24px rgba(88,166,255,0.4);
  }

  .convert-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 14px 36px rgba(88,166,255,0.6);
  }

  .result-box {
    background: rgba(13,17,23,0.8);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 2rem;
    font-size: 1.2rem;
    line-height: 1.7;
    margin: 2rem 0;
  }

  #diff-container {
    display: none;
    margin-top: 1.2rem;
  }

  .time-diff {
    color: var(--accent);
    font-weight: 600;
    font-size: 1.3rem;
  }

  .tools-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1.2rem;
    justify-content: center;
    margin: 3.5rem 0 2.5rem;
  }

  .tool-btn {
    flex: 1 1 220px;
    max-width: 260px;
    padding: 1.2rem 1.6rem;
    background: rgba(88,166,255,0.08);
    border: 1px solid rgba(88,166,255,0.25);
    border-radius: 12px;
    color: var(--text);
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1.05rem;
    font-weight: 500;
    text-align: center;
  }

  .tool-btn:hover {
    background: rgba(88,166,255,0.2);
    border-color: var(--primary);
    transform: translateY(-3px);
  }

  .extra-panels > div {
    margin-top: 2.8rem;
    padding: 2rem;
    background: rgba(13,17,23,0.65);
    border: 1px solid var(--border);
    border-radius: 14px;
  }

  .hidden { display: none !important; }

  .copy-btn {
    margin-top: 1.2rem;
    padding: 1rem 1.8rem;
    background: rgba(88,166,255,0.15);
    border: 1px solid var(--primary);
    border-radius: 10px;
    color: var(--primary);
    font-weight: 500;
    cursor: pointer;
    font-size: 1.05rem;
  }

  .copy-btn:hover {
    background: rgba(88,166,255,0.3);
  }

  .live-clock {
    font-size: 1.3rem;
    margin: 0.8rem 0;
    padding: 0.8rem;
    background: rgba(88,166,255,0.08);
    border-radius: 10px;
  }

  /* Modal */
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    backdrop-filter: blur(8px);
    display: none;
    place-items: center;
    z-index: 1000;
  }

  .modal-content {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 2.6rem;
    width: 92%;
    max-width: 560px;
  }

  .modal-buttons {
    display: flex;
    gap: 1.6rem;
    justify-content: center;
    margin-top: 2.2rem;
  }

  .modal-btn {
    padding: 1.1rem 2.6rem;
    border-radius: 12px;
    font-size: 1.15rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.25s;
  }

  .modal-btn.add {
    background: var(--primary);
    color: white;
    border: none;
  }

  .modal-btn.cancel {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-light);
  }
</style>
</head>
<body>

<div class="container">

  <h1>TIME ZONE CONVERTER</h1>
  <div class="made-by">Made by Hacker114</div>

  <div class="section">
    <label>What time are you converting from?</label>
    <div class="datetime-row">
      <div><input type="date" id="input-date"/></div>
      <div><input type="time" id="input-time" step="1"/></div>
    </div>
  </div>

  <div class="timezone-row">
    <div>
      <label>From</label>
      <input type="text" id="from-search" placeholder="Search timezone…" oninput="filterZones('from')"/>
      <select id="from-zone"></select>

      <div style="margin-top:1.8rem;">
        <label>Your Favorites</label>
        <select id="from-fav" onchange="selectFav('from', this.value)">
          <option value="">Select favorite…</option>
        </select>
      </div>
    </div>

    <button class="swap-btn" onclick="swapZones()"><i class="fa-solid fa-right-left"></i></button>

    <div>
      <label>To</label>
      <input type="text" id="to-search" placeholder="Search timezone…" oninput="filterZones('to')"/>
      <select id="to-zone"></select>

      <div style="margin-top:1.8rem;">
        <label>Your Favorites</label>
        <select id="to-fav" onchange="selectFav('to', this.value)">
          <option value="">Select favorite…</option>
        </select>
      </div>
    </div>
  </div>

  <button class="convert-btn" onclick="convert()">
    <i class="fa-solid fa-arrow-rotate-right"></i> CONVERT NOW
  </button>

  <div class="result-box" id="result"></div>

  <div id="diff-container">
    <div class="time-diff" id="diff"></div>
  </div>

  <button class="copy-btn hidden" id="copyBtn" onclick="copyResult()">
    <i class="fa-solid fa-copy"></i> Copy Result
  </button>

  <div class="tools-grid">
    <button class="tool-btn" onclick="useNow()">     <i class="fa-solid fa-clock-rotate-left"></i> Use Current Time</button>
    <button class="tool-btn" onclick="toggleLiveClocks()"> <i class="fa-solid fa-globe"></i> Live Clocks</button>
    <button class="tool-btn" onclick="toggle('#arithmetic')"> <i class="fa-solid fa-calculator"></i> +/− Time</button>
    <button class="tool-btn" onclick="openAddFavorite()"> <i class="fa-solid fa-star"></i> Add Favorite</button>
  </div>

  <!-- Panels -->
  <div id="live-clocks" class="hidden extra-panels">
    <h3 style="color:var(--primary); margin-bottom:1.4rem;">Live Time (updates every second)</h3>
    <div class="live-clock" id="live-from"></div>
    <div class="live-clock" id="live-to"></div>
  </div>

  <div id="arithmetic" class="hidden extra-panels">
    <h3 style="color:var(--primary); margin-bottom:1.4rem;">Add or Subtract Time</h3>
    <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:1.4rem; margin:1.2rem 0;">
      <input type="number" id="add-d" placeholder="days"/>
      <input type="number" id="add-h" placeholder="hours"/>
      <input type="number" id="add-m" placeholder="minutes"/>
    </div>
    <button class="convert-btn" style="margin-top:1.2rem;" onclick="applyDelta()">Apply Adjustment</button>
  </div>

</div>


<!-- Add Favorite Modal -->
<div id="fav-modal" class="modal">
  <div class="modal-content">
    <h3 style="color:var(--primary);">Add Timezone to Favorites</h3>
    <input type="text" id="fav-search" placeholder="Search timezone…" oninput="filterFav()" style="margin:1.4rem 0 1.2rem;"/>
    <select id="fav-select" size="12"></select>

    <div class="modal-buttons">
      <button class="modal-btn add" onclick="addFav()">ADD SELECTED</button>
      <button class="modal-btn cancel" onclick="document.getElementById('fav-modal').style.display='none'">CANCEL</button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
<script>
const { DateTime } = luxon

const zones = [
  'UTC','America/New_York','America/Chicago','America/Denver','America/Los_Angeles',
  'America/Phoenix','America/Anchorage','Pacific/Honolulu','America/Vancouver',
  'America/Toronto','America/Montreal','America/Edmonton','America/Winnipeg',
  'America/Halifax','America/St_Johns','America/Mexico_City','America/Sao_Paulo',
  'America/Buenos_Aires','America/Santiago','America/Lima','America/Bogota',
  'America/Caracas','America/La_Paz','America/Montevideo','America/Asuncion',
  'Europe/London','Europe/Dublin','Europe/Paris','Europe/Berlin','Europe/Madrid',
  'Europe/Rome','Europe/Amsterdam','Europe/Brussels','Europe/Zurich',
  'Europe/Stockholm','Europe/Oslo','Europe/Copenhagen','Europe/Helsinki',
  'Europe/Athens','Europe/Istanbul','Europe/Moscow','Europe/Kiev',
  'Europe/Warsaw','Europe/Budapest','Europe/Prague','Europe/Bucharest',
  'Europe/Lisbon','Europe/Vienna','Asia/Dubai','Asia/Riyadh','Asia/Baghdad',
  'Asia/Tehran','Asia/Karachi','Asia/Kolkata','Asia/Kathmandu','Asia/Dhaka',
  'Asia/Colombo','Asia/Bangkok','Asia/Jakarta','Asia/Manila','Asia/Singapore',
  'Asia/Kuala_Lumpur','Asia/Hong_Kong','Asia/Taipei','Asia/Shanghai',
  'Asia/Tokyo','Asia/Seoul','Asia/Pyongyang','Asia/Vladivostok',
  'Asia/Yakutsk','Asia/Kamchatka','Australia/Sydney','Australia/Melbourne',
  'Australia/Brisbane','Australia/Adelaide','Australia/Perth','Australia/Darwin',
  'Pacific/Auckland','Pacific/Fiji','Pacific/Guam','Pacific/Apia',
  'Pacific/Tongatapu','Asia/Jerusalem','Africa/Johannesburg','Africa/Cairo',
  'Africa/Lagos','Africa/Nairobi','Africa/Algiers','Africa/Casablanca',
  'Africa/Addis_Ababa','Africa/Windhoek','Atlantic/Reykjavik','Atlantic/Azores',
  'Europe/Kaliningrad','Asia/Almaty','Asia/Yekaterinburg','Asia/Novosibirsk',
  'Asia/Omsk','Asia/Krasnoyarsk','Asia/Irkutsk','Asia/Chita','Asia/Magadan',
  'America/Puerto_Rico','America/Panama','America/Costa_Rica','America/Guatemala',
  'America/El_Salvador','America/Tegucigalpa','America/Managua','America/Havana',
  'America/Santo_Domingo','America/Port-au-Prince','Asia/Beirut','Asia/Amman',
  'Asia/Damascus','Asia/Gaza','Europe/Belgrade','Europe/Sofia','Europe/Tallinn',
  'Europe/Riga','Europe/Vilnius','Europe/Minsk','Europe/Chisinau','Asia/Yerevan',
  'Asia/Baku','Asia/Tbilisi','Asia/Ashgabat','Asia/Dushanbe','Asia/Bishkek',
  'Asia/Tashkent','Pacific/Galapagos','Pacific/Easter','America/Godthab'
]

let fromZone = 'UTC'
let toZone   = 'America/Vancouver'
let favorites = JSON.parse(localStorage.getItem('tz_favorites')) || []
let liveInterval = null

function populate() {
  const make = (id, isFav = false) => {
    const s = document.getElementById(id)
    let html = ''
    if (isFav) {
      html = favorites.length === 0 
        ? '<option value="">No favorites yet</option>'
        : '<option value="">Select favorite…</option>' + favorites.map(z => `<option value="${z}">${z.replace(/_/g,' ')}</option>`).join('')
    } else {
      html = zones.map(z => `<option value="${z}">${z.replace(/_/g,' ')}</option>`).join('')
    }
    s.innerHTML = html
  }

  make('from-zone')
  make('to-zone')
  make('fav-select')
  make('from-fav', true)
  make('to-fav', true)

  document.getElementById('from-zone').value = fromZone
  document.getElementById('to-zone').value   = toZone
}

function filterZones(side) {
  const val = document.getElementById(side+'-search').value.toLowerCase()
  const sel = document.getElementById(side+'-zone')
  ;[...sel.options].forEach(o => o.style.display = o.text.toLowerCase().includes(val) ? '' : 'none')
}

function filterFav() {
  const val = document.getElementById('fav-search').value.toLowerCase()
  const sel = document.getElementById('fav-select')
  ;[...sel.options].forEach(o => o.style.display = o.text.toLowerCase().includes(val) ? '' : 'none')
}

function swapZones() {
  [fromZone, toZone] = [toZone, fromZone]
  document.getElementById('from-zone').value = fromZone
  document.getElementById('to-zone').value   = toZone
  updateLiveClocks()
}

function selectFav(side, tz) {
  if (tz) {
    if (side === 'from') fromZone = tz, document.getElementById('from-zone').value = tz
    else                toZone   = tz, document.getElementById('to-zone').value   = tz
    updateLiveClocks()
  }
}

function convert() {
  const date = document.getElementById('input-date').value
  const time = document.getElementById('input-time').value || '00:00'
  if (!date) return alert("Please select a date")

  const input = DateTime.fromISO(`${date}T${time}`, { zone: fromZone })
  if (!input.isValid) return alert("Invalid date/time")

  const out = input.setZone(toZone)

  document.getElementById('result').innerHTML = `
    <strong>From (${fromZone.replace(/_/g,' ')}):</strong><br>${input.toFormat("cccc, LLLL dd yyyy  hh:mm:ss a")}<br><br>
    <strong>To (${toZone.replace(/_/g,' ')}):</strong><br>${out.toFormat("cccc, LLLL dd yyyy  hh:mm:ss a")}
  `

  const diffMin = out.offset - input.offset
  const h = Math.floor(Math.abs(diffMin)/60)
  const m = Math.abs(diffMin) % 60
  let txt = `Time difference: ${h}h ${m}m`
  if (diffMin > 0) txt += ` (${toZone.replace(/_/g,' ')} is ahead)`
  if (diffMin < 0) txt += ` (${toZone.replace(/_/g,' ')} is behind)`

  document.getElementById('diff').textContent = txt
  document.getElementById('diff-container').style.display = 'block'
  document.getElementById('copyBtn').classList.remove('hidden')
}

function copyResult() {
  const text = document.getElementById('result').innerText + '\n' + document.getElementById('diff').innerText
  navigator.clipboard.writeText(text).then(() => alert('Copied to clipboard!'))
}

function useNow() {
  const n = DateTime.now().setZone(fromZone)
  document.getElementById('input-date').value = n.toFormat('yyyy-MM-dd')
  document.getElementById('input-time').value = n.toFormat('HH:mm')
}

function applyDelta() {
  const date = document.getElementById('input-date').value
  const time = document.getElementById('input-time').value || '00:00'
  if (!date) return alert("Set date first")

  let dt = DateTime.fromISO(`${date}T${time}`, { zone: fromZone })
  if (!dt.isValid) return alert("Invalid date/time")

  const d = Number(document.getElementById('add-d').value) || 0
  const h = Number(document.getElementById('add-h').value) || 0
  const m = Number(document.getElementById('add-m').value) || 0

  dt = dt.plus({ days:d, hours:h, minutes:m })

  document.getElementById('input-date').value = dt.toFormat('yyyy-MM-dd')
  document.getElementById('input-time').value = dt.toFormat('HH:mm')
  alert('Time updated!')
}

function toggleLiveClocks() {
  const panel = document.getElementById('live-clocks')
  if (panel.classList.contains('hidden')) {
    panel.classList.remove('hidden')
    updateLiveClocks()
    liveInterval = setInterval(updateLiveClocks, 1000)
  } else {
    panel.classList.add('hidden')
    clearInterval(liveInterval)
    liveInterval = null
  }
}

function updateLiveClocks() {
  const now = DateTime.now()
  document.getElementById('live-from').innerHTML = 
    `<strong>Current in ${fromZone.replace(/_/g,' ')}:</strong> ${now.setZone(fromZone).toFormat("cccc, LLLL dd yyyy  hh:mm:ss a")}`
  document.getElementById('live-to').innerHTML = 
    `<strong>Current in ${toZone.replace(/_/g,' ')}:</strong> ${now.setZone(toZone).toFormat("cccc, LLLL dd yyyy  hh:mm:ss a")}`
}

function toggle(id) {
  document.querySelector(id).classList.toggle('hidden')
}

function openAddFavorite() {
  document.getElementById('fav-modal').style.display = 'grid'
}

function addFav() {
  const tz = document.getElementById('fav-select').value
  if (tz && !favorites.includes(tz)) {
    favorites.push(tz)
    localStorage.setItem('tz_favorites', JSON.stringify(favorites))
    populate()
    document.getElementById('fav-modal').style.display = 'none'
  } else if (tz) {
    alert("Already in favorites!")
  }
}

populate()
useNow()
</script>
</body>
</html>
